import{c as b,r as c,j as e,b as h,X as k,B as p,a as g}from"./index-DjhJUK_y.js";import{T as E}from"./trash-2-dkXp1wAJ.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=b("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=b("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),A=["sales","interview","dating"],F=({isOpen:l,onClose:y,userId:O,playbooks:n,onCreate:f,onUpdate:j,onDelete:v,selectedPlaybookId:r,onSelect:d})=>{const[o,i]=c.useState(null),[t,a]=c.useState({name:"",description:"",scenario:"sales",systemPrompt:"",exampleCues:""});c.useEffect(()=>{l||(i(null),a({name:"",description:"",scenario:"sales",systemPrompt:"",exampleCues:""}))},[l]);const N=s=>{i(s.id),a({name:s.name||"",description:s.description||"",scenario:s.scenario||"sales",systemPrompt:s.systemPrompt||"",exampleCues:s.exampleCues||""})},m=()=>{i(null),a({name:"",description:"",scenario:"sales",systemPrompt:"",exampleCues:""})},w=async()=>{if(!t.name.trim()||!t.systemPrompt.trim()){alert("Please fill in at least the name and system prompt");return}try{o?await j(o,t):await f(t),m()}catch(s){console.error("Error saving playbook:",s),alert("Failed to save playbook: "+s.message)}},C=async s=>{if(confirm("Are you sure you want to delete this playbook? This cannot be undone."))try{await v(s),r===s&&d(null)}catch(u){console.error("Error deleting playbook:",u),alert("Failed to delete playbook: "+u.message)}},x=`You are GHOST, an undetectable, real-time auditory co-pilot for a B2B sales professional.

RULES OF ENGAGEMENT:
1. Persona: You are a hyper-focused, concise coach. Your tone must be neutral, calm, and authoritative.
2. Output Format: Your response MUST be a single, short sentence (max 10 words). You must only give the instruction. Do NOT use conversational fillers like "I recommend," "Hello," or "The answer is."
3. Latency is Critical: Prioritize speed. If the instruction is complex, give the most immediate actionable step only.
4. Grounded Response: All facts and counter-arguments must be based ONLY on the [CONTEXT] provided below. If the context does not contain the necessary information, you must instruct the user to use a generic soft skill cue.

COACHING CUE EXAMPLES:
- For price objections: "Ask: What would make this a no-brainer?" or "Reframe around ROI and value."
- For competitor mentions: "Pivot to Total Cost of Ownership." or "Highlight our unique differentiator."
- For timeline urgency: "Emphasize quick implementation timeline." or "Offer expedited onboarding option."
- For general objections: "Acknowledge concern, then probe deeper." or "Ask: What's driving this concern?"`;return l?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col m-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(h,{className:"w-6 h-6 text-blue-400"}),e.jsx("h2",{className:"text-xl font-bold text-gray-100",children:"Custom Coaching Playbooks"})]}),e.jsx("button",{onClick:y,className:"text-gray-400 hover:text-gray-200 transition-colors",children:e.jsx(k,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wide mb-3",children:["Your Playbooks (",n.length,")"]}),n.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(h,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No playbooks yet. Create your first one below."})]}):e.jsx("div",{className:"space-y-2",children:n.map(s=>e.jsx("div",{className:`p-4 rounded-lg border ${r===s.id?"border-blue-500 bg-blue-900/20":"border-gray-800 bg-gray-900/50"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-100",children:s.name}),e.jsx(p,{color:"blue",children:s.scenario}),r===s.id&&e.jsx(p,{color:"green",children:"Active"})]}),s.description&&e.jsx("p",{className:"text-sm text-gray-400 mb-2",children:s.description}),e.jsx("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:e.jsxs("span",{children:["Created: ",new Date(s.createdAt).toLocaleDateString()]})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d(s.id),className:`px-3 py-1.5 rounded text-xs font-medium transition-colors ${r===s.id?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:r===s.id?"Selected":"Select"}),e.jsx("button",{onClick:()=>N(s),className:"p-2 text-gray-400 hover:text-blue-400 transition-colors",title:"Edit playbook",children:e.jsx(P,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>C(s.id),className:"p-2 text-gray-400 hover:text-red-400 transition-colors",title:"Delete playbook",children:e.jsx(E,{className:"w-4 h-4"})})]})]})},s.id))})]}),e.jsxs("div",{className:"border-t border-gray-800 pt-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wide mb-4",children:o?"Edit Playbook":"Create New Playbook"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Playbook Name *"}),e.jsx("input",{type:"text",value:t.name,onChange:s=>a({...t,name:s.target.value}),placeholder:"e.g., Enterprise Sales Playbook",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),e.jsx("input",{type:"text",value:t.description,onChange:s=>a({...t,description:s.target.value}),placeholder:"Brief description of when to use this playbook",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Scenario *"}),e.jsx("select",{value:t.scenario,onChange:s=>a({...t,scenario:s.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:outline-none focus:border-blue-500",children:A.map(s=>e.jsx("option",{value:s,children:s.charAt(0).toUpperCase()+s.slice(1)},s))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["System Prompt *",e.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(This defines how the AI will coach you)"})]}),e.jsx("textarea",{value:t.systemPrompt,onChange:s=>a({...t,systemPrompt:s.target.value}),placeholder:x,rows:12,className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 font-mono text-sm"}),e.jsx("button",{onClick:()=>a({...t,systemPrompt:x}),className:"mt-2 text-xs text-blue-400 hover:text-blue-300",children:"Use default prompt"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Example Cues",e.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(Optional: Examples of good coaching cues for this playbook)"})]}),e.jsx("textarea",{value:t.exampleCues,onChange:s=>a({...t,exampleCues:s.target.value}),placeholder:"Example: 'Ask: What would make this a no-brainer?' or 'Reframe around ROI and value.'",rows:3,className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[e.jsxs(g,{onClick:w,variant:"primary",children:[e.jsx(S,{className:"w-4 h-4"}),o?"Update Playbook":"Create Playbook"]}),o&&e.jsx(g,{onClick:m,variant:"secondary",children:"Cancel"})]})]})]})]})]})}):null};export{F as PlaybooksModal};
