import{c as m,r as u,j as e,B as L,C as A,a as y}from"./index-DjhJUK_y.js";import{M as G}from"./Modal-DmPGCuwV.js";import{C as M}from"./chart-column-iKTZkwYY.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=m("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=m("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=m("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=m("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),E=["Sync transcripts & cues across devices","Unlock Concierge onboarding + Founders Club perks","Persist KB uploads, parameters, and headset tuning","Track subscription tier for billing + entitlements"],T=({isOpen:c,onClose:l,user:s,profile:r,planDetails:t,onGoogleUpgrade:g,onEmailUpgrade:d,onSignOut:v,authError:b,isProcessing:o,onOpenAnalytics:j,canAccessAnalytics:C=!1,onUpgradeToFounders:O,onViewPricing:f})=>{const[i,N]=u.useState({displayName:"",email:"",password:""}),[w,h]=u.useState(null);if(u.useEffect(()=>{c&&(h(null),N({displayName:(s==null?void 0:s.displayName)||"",email:(s==null?void 0:s.email)||"",password:""}))},[c,s]),!c)return null;const p=n=>{N({...i,[n.target.name]:n.target.value})},S=async n=>{if(n.preventDefault(),h(null),!!d)try{await d(i),h("Account saved! You can now close this dialog.")}catch{}},k=(t==null?void 0:t.label)||(r==null?void 0:r.plan)||(s!=null&&s.isAnonymous?"guest":"trial"),a=s==null?void 0:s.isAnonymous;return e.jsxs(G,{isOpen:c,onClose:l,title:a?"Save your Ghost session":"Account preferences",description:a?"Link this anonymous session to a real account so we can sync your cues, KB, and subscription perks.":"Manage your subscription state, Linked logins, and advanced preferences.",footer:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(F,{className:"w-4 h-4 text-green-400"}),"End-to-end secured via Firebase Auth"]}),e.jsx(y,{variant:"secondary",onClick:l,children:"Close"})]}),children:[e.jsxs("section",{className:"bg-gray-900/60 border border-gray-800 rounded-xl p-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 uppercase tracking-wide",children:"Current Plan"}),e.jsx("p",{className:"text-lg font-semibold text-white capitalize",children:k}),(t==null?void 0:t.headline)&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.headline})]}),e.jsx(L,{color:(t==null?void 0:t.badgeColor)??(k==="guest"?"yellow":"green"),children:a?"Guest Session":"Synced"})]}),(s==null?void 0:s.uid)&&e.jsxs("p",{className:"text-xs font-mono text-gray-500",children:["UID: ",s.uid]})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:"Why link your account?"}),e.jsx("ul",{className:"list-disc list-inside text-xs text-gray-400 space-y-1",children:E.map(n=>e.jsx("li",{children:n},n))})]}),b&&e.jsx("div",{className:"p-3 rounded-lg bg-red-900/30 border border-red-700 text-sm text-red-200",children:b.message||"Something went wrong while updating your account."}),w&&e.jsx("div",{className:"p-3 rounded-lg bg-green-900/30 border border-green-700 text-sm text-green-200",children:w}),e.jsxs("section",{className:"grid gap-3 md:grid-cols-2",children:[e.jsx(x,{title:"Link Google",description:"Fastest way to sync Ghost across devices. Uses Google OAuth.",icon:e.jsx(z,{className:"w-5 h-5 text-blue-400"}),actionLabel:a?"Link Google Account":"Reconnect Google",disabled:o,onAction:g}),!a&&C&&j&&e.jsx(x,{title:"View Analytics",description:"Track your usage, sessions, and feature adoption.",icon:e.jsx(M,{className:"w-5 h-5 text-purple-400"}),actionLabel:"Open Dashboard",disabled:o,onAction:j}),f&&e.jsx(x,{title:"View Plans & Pricing",description:"Compare all plans and see what's included.",icon:e.jsx(A,{className:"w-5 h-5 text-blue-400"}),actionLabel:"View Pricing",disabled:o,onAction:f}),!a&&e.jsx(x,{title:"Sign Out",description:"Switch accounts or clear this device.",icon:e.jsx(U,{className:"w-5 h-5 text-red-400"}),actionLabel:"Sign Out",variant:"danger",disabled:o,onAction:v})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:"Prefer email + password?"}),e.jsxs("form",{onSubmit:S,className:"space-y-3",children:[e.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[e.jsxs("label",{className:"text-xs text-gray-400 uppercase tracking-wide flex flex-col gap-1",children:["Display Name",e.jsx("input",{type:"text",name:"displayName",value:i.displayName,onChange:p,className:"bg-gray-900 border border-gray-800 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-blue-500",placeholder:"Ghost Operator"})]}),e.jsxs("label",{className:"text-xs text-gray-400 uppercase tracking-wide flex flex-col gap-1",children:["Email",e.jsx("input",{type:"email",name:"email",value:i.email,onChange:p,required:!0,className:"bg-gray-900 border border-gray-800 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-blue-500",placeholder:"you@company.com"})]})]}),e.jsxs("label",{className:"text-xs text-gray-400 uppercase tracking-wide flex flex-col gap-1",children:["Password",e.jsx("input",{type:"password",name:"password",value:i.password,onChange:p,required:!0,minLength:6,className:"bg-gray-900 border border-gray-800 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-blue-500",placeholder:"At least 6 characters"})]}),e.jsxs(y,{type:"submit",variant:"primary",disabled:o,className:"w-full justify-center",children:[e.jsx(B,{className:"w-4 h-4"}),a?"Create login & save session":"Update email login"]}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Weâ€™ll link this login to your current session so transcripts, KB docs, and subscription data stay intact."})]})]})]})},x=({title:c,description:l,icon:s,actionLabel:r,onAction:t,disabled:g,variant:d="secondary"})=>e.jsxs("div",{className:"border border-gray-800 rounded-xl p-4 bg-gray-900/40 flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s,e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:c}),e.jsx("p",{className:"text-xs text-gray-500",children:l})]})]}),e.jsx(y,{onClick:t,disabled:g,variant:d==="danger"?"danger":"secondary",children:r})]});export{T as UpgradeAccountModal};
