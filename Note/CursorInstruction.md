Ghost Auditory Co-Pilot MVP: End-to-End Development SpecificationI. Overview and Core MandateThe primary objective of the Ghost MVP is to provide undetectable, real-time, auditory (voice) coaching to B2B Sales Representatives during live video calls (Zoom, Meet, Teams). The core value proposition is sub-500ms latency objection handling that maintains the sales rep's focus and eye contact.Core Mandate: The AI MUST be delivered via audio prompt (TTS) and MUST be undetectable by the customer on the other end of the call.II. Technical Architecture and ToolsLayerComponentTechnology / ServiceRationaleFrontend/AppDesktop Client (Sidecar App)Electron / React + Tailwind CSSAllows cross-platform deployment (Windows/Mac) and access to OS-level audio routing (critical for stealth mode).Real-Time EngineVoice-to-Voice (V2V) APIVapi or Retell APISpecialized for low-latency, full-duplex conversational AI and crucial for sub-500ms response time.AI/LogicConversational ModelGoogle Gemini 2.5 FlashIdeal balance of speed, capability, and cost for real-time analysis and response generation.Knowledge Base (KB)Custom Data StoragePinecone (Vector DB) / FirestoreStores custom client data (pricing, playbooks, battlecards) for Retrieval-Augmented Generation (RAG).Data StorageUser/Pilot ConfigurationFirebase FirestoreStores user credentials, custom KB pointers, and basic call logs.III. Core Features and Development Tasks (MVP)The development must be separated into three sequential modules: Client Setup, Real-Time Engine, and Knowledge Base.A. Client Setup & Stealth Mode (Electron/React)Goal: Create a desktop application that captures the user's microphone input and plays back the AI's response without routing the response through the virtual meeting microphone.Task IDTask DescriptionImplementation DetailsC1. Basic Electron AppInitialize a basic Electron application shell using React for the UI.Standard setup for Electron + React boilerplate. Include Tailwind CSS for styling.C2. Firebase Auth & ConfigSet up Firebase initialization, including secure storage of the __app_id and __firebase_config. Implement signInWithCustomToken using __initial_auth_token.Use useEffect to manage the initial auth state and store db and userId.C3. User Interface (UI)Create a simple UI with a "Start Call" button, a status indicator (Idle/Listening), and a prompt input field for testing.Use Tailwind for a dark, minimalist, distraction-free aesthetic.C4. Audio Routing (Critical)Implement OS-level audio routing logic. MUST capture the user's mic but MUST output AI audio only to the user's headphones (not to the system output device used by Zoom).This is the trickiest part of Electron. Requires checking OS audio settings and potentially using native modules for audio device selection.C5. UI TranscriptDisplay the AI's response text and the customer's transcribed speech in a scrolling sidebar (for user reference only).Simple React state management for transcript updates.B. Real-Time Engine Integration (Vapi/Retell)Goal: Integrate the low-latency V2V API to handle all audio streaming, transcription, and TTS conversion, passing the text transcript to our internal Gemini logic.Task IDTask DescriptionImplementation DetailsR1. V2V Endpoint SetupConfigure the Vapi/Retell service to use a custom server (or webhook) where our Gemini model will be called.Set up the V2V agent with an aggressive timeout/latency setting (e.g., target 500ms).R2. Gemini API IntegrationCreate a secure backend function to receive the customer's transcribed text from the V2V service and call the Gemini API.Use the gemini-2.5-flash model. The prompt (see Section V) must be included here as systemInstruction.R3. Prompt Trigger LogicImplement the core logic for when to interrupt: Only respond if the customer's last transcribed phrase contains a Keyword Trigger (Objection, Price Mention, Competitor Name).Use simple string matching on the incoming transcript. This is a temporary rule before advanced RAG logic.R4. Response GenerationThe Gemini response should be a concise, auditory command or fact (e.g., "Counter with the TCO pitch"). The generated text is returned to the V2V service for TTS.The TTS voice should be clear, calm, and distinct from the customer's or user's voice.C. Knowledge Base (KB) and RAGGoal: Allow the user to upload their specific sales playbooks, ensuring Gemini only provides answers grounded in approved company data.Task IDTask DescriptionImplementation DetailsK1. Playbook Ingestion UICreate a simple file upload interface (e.g., PDF or Markdown) where the user can upload their custom Objection Handling Guide.Use a standard file input component.K2. Document Chunking & EmbeddingOn upload, the document must be chunked (split into smaller pieces) and converted into vector embeddings.Use a lightweight embedding model (e.g., a simple API call) and store the vectors in a Vector Database (e.g., Pinecone). The userId must be used to namespace the vectors (e.g., namespace=userId-playbooks).K3. Retrieval Augmented Generation (RAG)Modify the Gemini call (R2) to execute a three-step process: 1. Search Pinecone using the customer's transcribed text. 2. Retrieve the most relevant 3-5 text chunks. 3. Inject these chunks into the Gemini prompt as context before asking it to generate the voice command.This ensures the AI's response is "grounded" in the client's internal playbook.IV. Gemini System Instruction (Prompt Blueprint)This is the system instruction that defines the AI's persona and rules for real-time guidance. This prompt will be constant and injected into every Gemini API call.You are GHOST, an undetectable, real-time auditory co-pilot for a B2B sales professional.

***
RULES OF ENGAGEMENT:
1. **Persona:** You are a hyper-focused, concise coach. Your tone must be neutral, calm, and authoritative.
2. **Output Format:** Your response MUST be a single, short sentence (max 10 words). You must only give the instruction. Do NOT use conversational fillers like "I recommend," "Hello," or "The answer is."
3. **Latency is Critical:** Prioritize speed. If the instruction is complex, give the most immediate actionable step only.
4. **Grounded Response:** All facts and counter-arguments must be based ONLY on the [CONTEXT] provided below. If the context does not contain the necessary information, you must instruct the user to use a generic soft skill cue.

***
CONTEXT (Injected from Pinecone RAG):
[INJECT RETRIEVED TEXT CHUNKS HERE, e.g., "If customer mentions 'Competitor X,' pivot to Total Cost of Ownership (TCO)."]

***
SCORING (RESPOND IF):
1. **Objection:** Customer transcript contains a known objection (e.g., "too expensive," "need to think about it," "I'm busy").
2. **Competitor Mention:** Customer transcript mentions a rival (e.g., "Pendo," "Gong," "Chorus").
3. **High-Value Fact Need:** Customer mentions a topic requiring specific data only found in the [CONTEXT].

***
DEFAULT CUES (RESPOND IF NO CONTEXT MATCHES BUT USER NEEDS HELP):
- If the user is speaking too quickly: "Slow your pace, take a breath."
- If the user is being interrupted: "Wait. Let the client finish."
- If the user is done and needs to ask for commitment: "Ask for the next steps now."
V. Development Roadmap (7-Day Sprint Focus)DayModule FocusCore Tasks to CompleteDeliverableD1Architecture / SetupC1, C2, R1: Initialize Electron/React app. Implement Firebase Auth. Set up V2V agent endpoint.Runnable, authenticated desktop app shell.D2Core I/O & PromptsR2, R4: Implement Gemini integration and the full System Instruction (Prompt Blueprint). Test TTS with generic cues.AI provides generic voice cues based on hardcoded triggers.D3Data Ingestion PrepK1, K2: Build the UI for Playbook upload. Implement the document chunking and Pinecone vector storage logic.Playbook upload button works, data is vectorized and stored.D4Real-Time RAGK3: Implement the RAG pipeline. Ensure the Gemini call dynamically retrieves context from Pinecone before generating a response.AI provides context-aware guidance only from the uploaded KB.D5Stealth & UXC4, C5: Implement OS audio routing logic (the stealth mode). Finalize UI/UX design.Functioning, stealthy auditory co-pilot with transcript display.D6QA & Test PrepEnd-to-end testing with mock Zoom/Meet calls. Train Ghost on the pilot customer's 3 key objections.Fully vetted MVP ready for customer use.D7First Sale DeliveryUse the fully trained, personalized Ghost to guide the AE on the Paid Pilot call.First Revenue Secured.
